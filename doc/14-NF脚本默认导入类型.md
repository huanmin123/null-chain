# NF 脚本默认导入类型

本文档列出了 NF 脚本启动时自动导入的 Java 类型，这些类型无需使用 `import type` 语句即可直接使用。

## 目录

- [空链核心类](#空链核心类)
- [基本类型](#基本类型)
- [集合类型](#集合类型)
- [日期时间类型](#日期时间类型)
- [数值类型](#数值类型)
- [字符串处理工具](#字符串处理工具)
- [数学工具](#数学工具)
- [系统工具](#系统工具)
- [IO 和文件操作](#io-和文件操作)
- [随机数](#随机数)
- [正则表达式](#正则表达式)
- [编码解码](#编码解码)
- [网络工具](#网络工具)
- [时间工具](#时间工具)
- [JDK 工具类](#jdk-工具类)
- [使用示例](#使用示例)
- [注意事项](#注意事项)

---

## 空链核心类

| 短名称 | 完整类路径 | 说明 |
|--------|-----------|------|
| `Null` | `com.gitee.huanminabc.nullchain.Null` | 空链入口类 |
| `NullChain` | `com.gitee.huanminabc.nullchain.core.NullChain` | 空链核心接口 |
| `NullCheck` | `com.gitee.huanminabc.nullchain.core.NullCheck` | 空值检查工具 |
| `NullCalculate` | `com.gitee.huanminabc.nullchain.leaf.calculate.NullCalculate` | 数值计算工具 |
| `NullStream` | `com.gitee.huanminabc.nullchain.leaf.stream.NullStream` | 空值安全的流操作 |
| `OkHttp` | `com.gitee.huanminabc.nullchain.leaf.http.OkHttp` | HTTP 请求工具 |
| `DateFormatEnum` | `com.gitee.huanminabc.jcommon.enums.DateFormatEnum` | 日期格式枚举 |

---

## 基本类型

| 短名称 | 完整类路径 | 说明 |
|--------|-----------|------|
| `Object` | `java.lang.Object` | 根对象类 |
| `String` | `java.lang.String` | 字符串 |
| `Integer` | `java.lang.Integer` | 整数包装类 |
| `Long` | `java.lang.Long` | 长整数包装类 |
| `Float` | `java.lang.Float` | 浮点数包装类 |
| `Double` | `java.lang.Double` | 双精度浮点数 |
| `Boolean` | `java.lang.Boolean` | 布尔值包装类 |
| `Short` | `java.lang.Short` | 短整数包装类 |
| `Byte` | `java.lang.Byte` | 字节包装类 |
| `Character` | `java.lang.Character` | 字符包装类 |
| `int` | `java.lang.Integer` | 整数（基本类型映射） |
| `long` | `java.lang.Long` | 长整数 |
| `short` | `java.lang.Short` | 短整数 |
| `byte` | `java.lang.Byte` | 字节 |
| `char` | `java.lang.Character` | 字符 |
| `float` | `java.lang.Float` | 浮点数 |
| `double` | `java.lang.Double` | 双精度浮点数 |
| `boolean` | `java.lang.Boolean` | 布尔值 |
| `bool` | `java.lang.Boolean` | 布尔值（别名） |

---

## 集合类型

| 短名称 | 类型 | 完整类路径 | 默认实现类 | 说明 |
|--------|------|-----------|-----------|------|
| `List` | 接口 | `java.util.List` | `ArrayList` | 列表接口，使用 `new` 时默认创建 ArrayList |
| `Map` | 接口 | `java.util.Map` | `HashMap` | 映射接口，使用 `new` 时默认创建 HashMap |
| `Set` | 接口 | `java.util.Set` | `HashSet` | 集合接口，使用 `new` 时默认创建 HashSet |
| `ArrayList` | 实现类 | `java.util.ArrayList` | - | 数组列表实现 |
| `LinkedList` | 实现类 | `java.util.LinkedList` | - | 链表实现 |
| `HashMap` | 实现类 | `java.util.HashMap` | - | 哈希映射实现 |
| `TreeMap` | 实现类 | `java.util.TreeMap` | - | 树形映射实现 |
| `HashSet` | 实现类 | `java.util.HashSet` | - | 哈希集合实现 |
| `CopyOnWriteArrayList` | 实现类 | `java.util.concurrent.CopyOnWriteArrayList` | - | 线程安全列表 |
| `ConcurrentHashMap` | 实现类 | `java.util.concurrent.ConcurrentHashMap` | - | 线程安全映射 |

**接口默认实现说明**

当使用接口类型调用 `new` 创建对象时，系统会自动使用其默认实现类：

```nf
// 使用接口声明，实际创建的是默认实现类
List list = new       // 实际创建 ArrayList
Map map = new         // 实际创建 HashMap
Set set = new         // 实际创建 HashSet

// 等价于显式指定实现类
List list = ArrayList
Map map = HashMap
Set set = HashSet
```

---

## 日期时间类型

| 短名称 | 完整类路径 | 说明 |
|--------|-----------|------|
| `Date` | `java.util.Date` | 日期类 |
| `LocalDate` | `java.time.LocalDate` | 本地日期 |
| `LocalDateTime` | `java.time.LocalDateTime` | 本地日期时间 |
| `LocalTime` | `java.time.LocalTime` | 本地时间 |
| `DateTimeFormatter` | `java.time.format.DateTimeFormatter` | 日期时间格式化器 |

---

## 数值类型

| 短名称 | 完整类路径 | 说明 |
|--------|-----------|------|
| `BigDecimal` | `java.math.BigDecimal` | 高精度小数 |
| `BigInteger` | `java.math.BigInteger` | 大整数 |

---

## 字符串处理工具

| 短名称 | 完整类路径 | 说明 |
|--------|-----------|------|
| `StringBuilder` | `java.lang.StringBuilder` | 可变字符串（非线程安全） |
| `StringBuffer` | `java.lang.StringBuffer` | 可变字符串（线程安全） |

---

## 数学工具

| 短名称 | 完整类路径 | 说明 |
|--------|-----------|------|
| `Math` | `java.lang.Math` | 数学函数（abs, max, min, sqrt, pow 等） |

---

## 系统工具

| 短名称 | 完整类路径 | 说明 |
|--------|-----------|------|
| `System` | `java.lang.System` | 系统工具类（系统属性、标准输入输出等） |
| `Runtime` | `java.lang.Runtime` | 运行时环境 |

---

## IO 和文件操作

| 短名称 | 完整类路径 | 说明 |
|--------|-----------|------|
| `File` | `java.io.File` | 文件和目录操作 |
| `Path` | `java.nio.file.Path` | NIO 路径接口 |
| `Paths` | `java.nio.file.Paths` | NIO 路径工具类 |

---

## 随机数

| 短名称 | 完整类路径 | 说明 |
|--------|-----------|------|
| `Random` | `java.util.Random` | 随机数生成器 |

---

## 正则表达式

| 短名称 | 完整类路径 | 说明 |
|--------|-----------|------|
| `Pattern` | `java.util.regex.Pattern` | 正则表达式编译类 |
| `Matcher` | `java.util.regex.Matcher` | 正则匹配器 |

---

## 编码解码

| 短名称 | 完整类路径 | 说明 |
|--------|-----------|------|
| `Base64` | `java.util.Base64` | Base64 编码解码工具 |

---

## 网络工具

| 短名称 | 完整类路径 | 说明 |
|--------|-----------|------|
| `URL` | `java.net.URL` | 统一资源定位符 |
| `URI` | `java.net.URI` | 统一资源标识符 |

---

## 时间工具

| 短名称 | 完整类路径 | 说明 |
|--------|-----------|------|
| `TimeUnit` | `java.util.concurrent.TimeUnit` | 时间枚举（用于 sleep、timeout 等） |

---

## JDK 工具类

| 短名称 | 完整类路径 | 说明 |
|--------|-----------|------|
| `Objects` | `java.util.Objects` | 对象工具类 |
| `Arrays` | `java.util.Arrays` | 数组工具类 |
| `Collections` | `java.util.Collections` | 集合工具类 |
| `UUID` | `java.util.UUID` | UUID 生成器 |
| `Files` | `java.nio.file.Files` | 文件操作工具类 |

---

## 使用示例

```nf
// 以下类型可以直接使用，无需导入

// 基本类型
String name = "张三"
Integer age = 25
Double score = 95.5

// 集合类型 - 使用接口声明，系统自动使用默认实现
List list = new        // 实际创建 ArrayList
Map map = new          // 实际创建 HashMap
Set set = new          // 实际创建 HashSet

// 也可以显式指定实现类
ArrayList arrList = new
HashMap hashMap = new
HashSet hashSet = new

// 集合操作
list.add("Hello")
list.add("World")
map.put("name", "张三")
map.put("age", 25)

// 日期时间
LocalDate today = LocalDate.now()
LocalDateTime now = LocalDateTime.now()

// 空链工具
Null.of(name).ifPresent("value is null").orElse("default")

// UUID 工具
String id = UUID.randomUUID().toString()

// StringBuilder 字符串拼接
StringBuilder sb = new
sb.append("Hello").append(" ").append("World")
String result = sb.toString()

// Math 数学函数
Integer max = Math.max(10, 20)
Double sqrt = Math.sqrt(16.0)
Integer abs = Math.abs(-100)

// System 系统工具
Long time = System.currentTimeMillis()
echo System.getProperty("java.version")

// File 文件操作
File file = new("/path/to/file.txt")
Boolean exists = file.exists()
String path = file.getAbsolutePath()

// Random 随机数
Random rand = new
Integer num = rand.nextInt(100)
Double dub = rand.nextDouble()

// BigInteger 大整数
BigInteger big1 = new("12345678901234567890")
BigInteger big2 = BigInteger.valueOf(100)
BigInteger sum = big1.add(big2)

// 正则表达式
Pattern p = Pattern.compile("\\d+")
Matcher m = p.matcher("abc123def")
Boolean found = m.find()

// Base64 编码解码
Encoder encoder = Base64.getEncoder()
String encoded = encoder.encodeToString("hello".getBytes())
Decoder decoder = Base64.getDecoder()
String decoded = new String(decoder.decode(encoded))

// URL 处理
URL url = new("https://example.com")
String protocol = url.getProtocol()
String host = url.getHost()

// TimeUnit 时间工具
TimeUnit.SECONDS.sleep(5)
Long millis = TimeUnit.MINUTES.toMillis(10)

// BigDecimal 高精度计算
BigDecimal price = new
BigDecimal decimal = price
```

---

## 注意事项

1. **基本类型映射**：`int`、`long`、`short` 等基本类型关键字映射到对应的包装类（`Integer`、`Long`、`Short`）

2. **布尔值别名**：`boolean` 和 `bool` 都映射到 `Boolean` 类

3. **接口默认实现**：`List`、`Map`、`Set` 是接口类型，使用 `new` 时系统会自动使用默认实现（`ArrayList`、`HashMap`、`HashSet`），也可以显式指定具体实现类

4. **线程安全集合**：`ConcurrentHashMap`、`CopyOnWriteArrayList` 适用于并发场景

5. **自定义类型**：业务自定义的类型需要使用 `import type` 显式导入

6. **版本兼容性**：
   - `java.time.*` (LocalDate, LocalDateTime 等) 需要 Java 8+
   - `Base64` 类需要 Java 8+
   - `Path`/`Paths` 等 NIO 类需要 Java 7+

7. **命名冲突**：如果自定义类型与默认导入类型同名，可以通过 `as` 别名解决

---

## 相关文档

- [NF 脚本完整文档](./11-NF脚本.md)
- [项目介绍](./01-项目介绍.md)
- [最佳实践](./12-最佳实践.md)
